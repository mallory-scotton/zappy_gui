///////////////////////////////////////////////////////////////////////////////
// Header guard
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include <SFML/Graphics.hpp>
#include <SFML/Window.hpp>
#include <SFML/System.hpp>

///////////////////////////////////////////////////////////////////////////////
// Namespace Zappy
///////////////////////////////////////////////////////////////////////////////
namespace Zappy
{

///////////////////////////////////////////////////////////////////////////////
/// \brief
///
///////////////////////////////////////////////////////////////////////////////
class Viewport
{
private:
    ///////////////////////////////////////////////////////////////////////////
    // Constants
    ///////////////////////////////////////////////////////////////////////////
    static constexpr unsigned int DEFAULT_WIDTH = 800;
    static constexpr unsigned int DEFAULT_HEIGHT = 600;
    static constexpr float DEFAULT_ZOOM = 1.0f;
    static constexpr float MIN_ZOOM = 0.1f;
    static constexpr float MAX_ZOOM = 10.0f;

private:
    ///////////////////////////////////////////////////////////////////////////
    // Private members
    ///////////////////////////////////////////////////////////////////////////
    sf::View m_view;                //< The SFML view for the viewport
    sf::RenderTexture m_texture;    //< The texture used for rendering
    sf::RenderTexture m_grid;       //< The texture for the grid
    float m_zoom;                   //< The zoom level of the viewport

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    ///////////////////////////////////////////////////////////////////////////
    Viewport(void);

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Get the texture id of the viewport
    ///
    /// \return The texture ID of the viewport
    ///
    ///////////////////////////////////////////////////////////////////////////
    unsigned int GetTextureID(void) const;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Render the viewport
    ///
    ///////////////////////////////////////////////////////////////////////////
    void Render(void);

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Resize the viewport
    ///
    /// \param width The width of the viewport
    /// \param height The height of the viewport
    ///
    ///////////////////////////////////////////////////////////////////////////
    void Resize(unsigned int width, unsigned int height);

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Get the size of the viewport
    ///
    /// \return The size of the viewport as a sf::Vector2u
    ///
    ///////////////////////////////////////////////////////////////////////////
    sf::Vector2u GetSize(void) const;

private:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Render the grid on the viewport
    ///
    ///////////////////////////////////////////////////////////////////////////
    void RenderGrid(void);
};

} // !namespace Zappy
